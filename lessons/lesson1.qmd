---
title: "Pr√°ctica 1: Introducci√≥n a Processing"
format:
  html: 
    toc: true
    number-sections: true
navbar:
  background: primary
  search: true
  right:
    - icon: github
      href: https://github.com/fastai/course22
sidebar:
  style: "floating"
---

## Objetivos de la pr√°ctica

Los objetivos de esta pr√°ctica son los siguientes:

- Familiarizaci√≥n con el ordenador y los elementos b√°sicos de un sistema operativo.
- Familiarizaci√≥n con el entorno de desarrollo Processing.
- Familiarizaci√≥n con aspectos b√°sicos de programaci√≥n a trav√©s de programas en Processing.

::: {.callout-note}
## üéû Diapositivas
[**Diapositivas para la presentaci√≥n de la pr√°ctica en clase**](../slides/lesson1.html)
:::

---

## Processing

### Introducci√≥n

::: {layout="[75,25]"}
::: {.column}
Processing es un lenguaje de programaci√≥n y un entorno de desarrollo (*Integrated Development Environment*, IDE).

- **Basado en Java**
- **Producci√≥n de proyectos multimedia e interactivos**
- Creado por cient√≠ficos del MIT en 2001
- Distribuci√≥n gratuita y de c√≥digo abierto
:::
::: {.column}
![](../resources/lesson1/processing.svg)
:::
:::

La propia [p√°gina de Processing](https://processing.org/examples/) muestra numerosos ejemplos de proyectos realizados con este lenguaje. Tambi√©n hay muchos ejemplos en Youtube, en particular, en el canal de [The Coding Train](https://www.youtube.com/c/TheCodingTrain).

::: {layout="[50,50]"}
::: {.column}
![Visualizaci√≥n del [fractal de Mandelbrot](https://processing.org/examples/mandelbrot.html).](../resources/lesson1/processing-example.png){#fig-mandelbrot}
:::
::: {.column}
![Canal de Youtube [The Coding Train](https://www.youtube.com/c/TheCodingTrain).](../resources/lesson1/thecodetrain.gif){#fig-thecodetrain}
:::
:::

### El entorno de desarrollo

El entorno de desarrollo de Processing tiene un dise√±o minimalista que facilita su uso. La interfaz gr√°fica posee las siguientes partes:

- **Un men√∫ de opciones** (archivo, editar, sketch, depuraci√≥n, herramientas y ayuda).
- **Dos botones para ejecutar y detener el programa.**
- Un √°rea central para escribir el c√≥digo fuente (**editor**).
- Una ventana inferior donde se muestran dos pesta√±as:
  - **Consola**: Salida est√°ndar del programa.
  - **Errores**: Mensajes de error generados durante la ejecuci√≥n.
  
![Vista del entorno de desarrollo y ventana pop-up que redirige a ejemplos disponibles en su p√°gina web.](../resources/lesson1/ide.png){#fig-ide}

Al ejecutar un programa se abrir√° una **nueva ventana donde se mostrar√° el resultado de la ejecuci√≥n** .

::: callout-warning
Cada ejercicio debe realizarse en un nuevo fichero, no en una nueva pesta√±a. Se recomienda guarda cada fichero a medida que se avanza en los ejercicios.
:::

---

## Dibujando figuras geom√©tricas

Las figuras geom√©tricas se dibujan en una ventana que est√° formada por una **matriz de p√≠xeles**. Cada p√≠xel es un peque√±o punto de luz que puede tener un color diferente. La combinaci√≥n de todos los p√≠xeles forma la imagen que vemos en la pantalla.

Por ejemplo, las dos animaciones siguientes muestran la diferencia entre una resoluci√≥n de pantalla alta y otra baja. En la animaci√≥n de la derecha, a medida que reducimos la resoluci√≥n, podemos observar los p√≠xeles individuales que componen la imagen.

::: {layout="[50,50]"}
::: {.column}
![Animaci√≥n con una resoluci√≥n de pantalla alta.](../resources/lesson1/animation_pixels.webm){#fig-environment}
:::
::: {.column}
![Animaci√≥n con una resoluci√≥n de pantalla baja, mostrando p√≠xeles.](../resources/lesson1/animation_pixels_lowerres.webm){#fig-environment}
:::
:::

::: {layout="[70,30]"}
::: {.column}
Para dibujar cualquier figura geom√©trica, es necesario especificar una o varias posiciones en la ventana. Dichas posiciones se definen mediante un par de coordenadas **(x, y)**, donde **x** indica la *posici√≥n horizontal** e **y** la **posici√≥n vertical**. En *Processing*, el origen de coordenadas (0,0) se encuentra en la esquina superior izquierda de la ventana, como se muestra en la figura de la derecha.

::: {.callout-note}
## üß™ Ejercicio 1 - Sistema de coordenadas

Dibuja una l√≠nea que va desde la posici√≥n (10, 0) hasta la posici√≥n (40, 50).
```java
line(10, 0, 40, 50);
```
:::
:::
::: {.column}
![Ilustraci√≥n de una matriz de p√≠xeles, indicando las coordenadas de algunos de ellos.](../resources/lesson1/pixel-matrix.png){#fig-pixels}
:::
:::

::: {.callout-warning}
## üìù Ejercicio 2 ‚Äî Errores comunes

Prueba a copiar el siguiente c√≥digo en el editor de *Processing* y ejecutarlo:
```java
Line(10, 0, 40, 50);
```

<details>
<summary>üí° Soluci√≥n</summary>
Processing es sensible al uso de may√∫sculas y min√∫sculas. Por ejemplo, la funci√≥n para dibujar una l√≠nea es `line`, no `Line` ni `LINE`.

Las palabras reservadas se muestran <span style="color:#1f77ff; font-weight:600;">resaltadas</span> en el editor, por lo que esta es una manera de ver si el nombre de una funci√≥n est√° bien escrito. Los <span style="color:#FF0000; font-weight:600;">errores</span> se muestran en la pesta√±a *Errores* de la ventana inferior.
</details>
:::

::: {.callout-note}
## üß™ Ejercicio 3 - M√∫ltiples formas geom√©tricas

Prueba a dibujar varias l√≠neas en diferentes posiciones de la pantalla, utilizando la instrucci√≥n `line` varias veces. 
:::

### Lienzo

Las figuras geom√©tricas se dibujan sobre un lienzo de tama√±o predeterminado 100x100 p√≠xeles. No obstante, es posible cambiar el tama√±o del lienzo utilizando la funci√≥n `size`, que recibe dos par√°metros: el ancho y el alto del lienzo en p√≠xeles.

::: {.callout-note}
## üß™ Ejercicio 4 - Tama√±o del lienzo 

Dibuja varias l√≠neas en un lienzo de tama√±o 300x200 p√≠xeles.

<details>
<summary>üí° Soluci√≥n</summary>
```java
size(300, 200);
line(10, 0, 40, 50);
line(100, 50, 200, 150);
line(250, 0, 250, 200);
```
</details>
:::

### Tipos de figuras geom√©tricas

Adem√°s de la l√≠nea utilizada en los ejercicios anteriores, *Processing* permite dibujar otras figuras geom√©tricas b√°sicas, tales como **puntos**, **tri√°ngulos**, **cuadril√°teros**, **rect√°ngulos** y **elipses**. 

::: {.callout-note}
## üß™ Ejercicio 5 - Deducci√≥n de par√°metros

¬øPuedes deducir qu√© par√°metros son necesarios para dibujar algunas de las figuras geom√©tricas mencionadas anteriormente?
Puedes consultar la [documentaci√≥n oficial de *Processing*](https://processing.org/reference#shape), y m√°s concretamente, la secci√≥n *2d primitives* en el apartado *Shape*.

<details>
<summary>üí° Soluci√≥n</summary>
- `point(x, y)`: un punto en la posici√≥n (x, y).
- `triangle(x1, y1, x2, y2, x3, y3)`: un tri√°ngulo con v√©rtices en las posiciones (x1, y1), (x2, y2) y (x3, y3).
- `quad(x1, y1, x2, y2, x3, y3, x4, y4)`: un cuadril√°tero con v√©rtices en las posiciones (x1, y1), (x2, y2), (x3, y3) y (x4, y4).
- `rect(x, y, anchura, altura)`: un rect√°ngulo con esquina superior izquierda en la posici√≥n (x, y), de anchura y altura especificadas.
- `ellipse(x, y, anchura, altura)`: una elipse centrada en la posici√≥n (x, y), con anchura y altura especificadas.
</details>
:::

#### Dibujando rect√°ngulos y elipses

Tanto en la documentaci√≥n oficial, como en la soluci√≥n del ejercicio anterior, os habr√©is podido dar cuenta de que las funciones `rect` y `ellipse` requieren cuatro par√°metros: dos para la posici√≥n y dos para el tama√±o. Sin embargo, hemos asumido que la posici√≥n siempre corresponde a la esquina superior izquierda del rect√°ngulo o al centro de la elipse. Esta suposici√≥n es correcta por defecto, pero es posible cambiarla utilizando las funciones `rectMode` y `ellipseMode`.

![](../resources/lesson1/rect-mode.svg){#fig-rectmodes}

Por defecto, Processing interpreta las posiciones de la siguiente manera:
```java
rectMode(CORNER);
ellipseMode(CENTER);
```

Tambi√©n es posible cambiar esta interpretaci√≥n usando:

```java
rectMode(CENTER);
ellipseMode(CORNER);
```

::: {.callout-note}
## üß™ Ejercicio 6 - Modo de dibujo

Intenta dibujar un c√≠rculo centrado en (20, 30) con radio 10 utilizando ambos modos. En el siguiente c√≥digo tienes todas las instrucciones necesarias para completar el ejercicio:
```java
// Modo por defecto
ellipseMode(CENTER);
ellipse( , , , );

// Modo alternativo
ellipseMode(CORNER);
ellipse( , , , );
```
:::

## Color en *Processing*

### Escala de grises

::: {layout="[60,30]"}
::: {.column}
Hasta ahora, hemos dibujado figuras geom√©tricas sin especificar ning√∫n color. Por defecto, las figuras se dibujan en negro sobre un fondo blanco.

A continuaci√≥n, veremos c√≥mo especificar colores en *Processing*. Por ahora, basta con componer colores en escala de grises. Para ello hay que tener en cuenta que la escala de un tono de gris va de 0 a 255; el valor 0 corresponde al negro y el valor 255 corresponde al blanco. Por ejemplo, la figura de la derecha se ha representado √∫nica y exclusivamente con diferentes valores de gris.

En *Processing*, las figuras tienen **borde** y **relleno**, que se definen mediante los m√©todos `stroke` y `fill`. Adem√°s, tambi√©n puede controlarse el color de fondo de la ventana con `background`.
:::

::: {.column}
![Imagen representada √∫nicamente con valores de gris.](../resources/lesson1/grayscale.svg){#fig-grayscale}
:::
:::

Por ejemplo, podemos definir el color del fondo, as√≠ como del borde y el relleno de un rect√°ngulo de la siguiente manera:
```java
background(0);              // fondo 

stroke(200);                // borde
fill(100);                  // relleno
rect(50, 50, 100, 100);
```

Adem√°s, cabe destacar que *Processing* funciona como una **m√°quina de estados**; es decir, **una vez se indica el color de borde o de relleno, este se utilizar√° para todas las figuras que se dibujen a continuaci√≥n**. Por ejemplo, podemos dibujar dos rect√°ngulos con el mismo color de borde, pero diferente color de relleno, de la siguiente manera:
```java
stroke(0);
fill(150);
rect(20, 20, 50, 50);       // borde negro, relleno gris

fill(50);
rect(80, 20, 50, 50);       // mismo borde, diferente relleno
```

::: {.callout-note}
## üß™ Ejercicio 7 - C√≠rculo y colores

Dibuja un c√≠rculo negro con borde gris, centrado en (20, 30) y con radio 10.

<details>
<summary>üí° Soluci√≥n</summary>
```java
stroke(128);
fill(0);
ellipse(20, 30, 20, 20);
```
</details>
:::

::: {.callout-note}
## üß™ Ejercicio 8 - Dibuja una forma geom√©trica

Trata de obtener algo parecido a la figura que se muestra debajo.

![](../resources/lesson1/render.png){width="30%" fig-align="center"}
:::

### Colores RGB (red, green, blue)

::: {layout="[30,70]"}
::: {.column}
![Representaci√≥n de los colores primarios RGB.](../resources/lesson1/primary-colors.png){#fig-rgb}
:::

::: {.column}
Adem√°s de diferentes tonos de gris, *Processing* permite definir colores a partir de los tres colores primarios: rojo, verde y azul (RGB). Cuando los tres componentes toman el valor m√°ximo (255), el color resultante es el blanco. En una escala de grises, los tres valores RGB coinciden; por ejemplo, el color (0, 0, 0) corresponde al negro. Por otro lado, si s√≥lo activamos un canal con 255, y dejamos el resto a 0, obtenemos rojo, verde o azul.

```java
fill(255, 0, 0);  // rojo
fill(0, 255, 0);  // verde
fill(0, 0, 255);  // azul
```
:::

:::

::: {.callout-note}
## üß™ Ejercicio 9 - Colores RGB

¬øSabr√≠as decir qu√© colores crear√°n las siguientes combinaciones de rojo, verde y azul?

- `fill(255, 255, 0)`
- `fill(0, 255, 255)`
- `fill(255, 0, 255)`
- `fill(255, 255, 127)`
- `fill(127, 255, 255)`
- `fill(255, 127, 255)`

**Pista**: f√≠jate en la @fig-rgb.

:::

### Opacidad

Adem√°s de los canales R, G y B, tambi√©n podemos indicar un valor de **opacidad**. De esta manera, un valor de 255 indica opacidad por completa, y un valor de 0 determina que un elemento ser√° transparente. Para especificar la opacidad, bastante con indicar un cuarto valor en operaciones como `stroke` o `fill`.

```java
fill(255, 255, 127);
rect(50, 50, 100, 100);

fill(255, 0, 127, 127);
rect(20, 20, 50, 50);
```

## Modelo de color HSV

![](../resources/lesson1/primary-colors.png){#fig-hsv}

En blanco y negro, los colores se representan mediante valores enteros en el rango [0, 255]:

- 0 corresponde al negro.
- 255 corresponde al blanco.

En Processing, las figuras tienen un borde y un relleno.

```java
    stroke(0);
    fill(255);
    background(255);
```

#### Ejercicio

Dibuja un c√≠rculo negro con borde gris, centrado en (20, 30) y con radio 10.

---

### Tama√±o del lienzo

El tama√±o del lienzo se controla con:

```java
    size(30, 30);
```

#### Ejercicio

Crea un lienzo de tama√±o 30x30 y repite el ejercicio anterior.

---

### Color RGB

Los colores RGB se representan mediante tres valores enteros:

```java
    fill(255, 0, 0);   // rojo
    fill(0, 255, 0);   // verde
    fill(0, 0, 255);   // azul
```

#### Predicci√≥n

¬øQu√© color producen los siguientes valores?

```java
- fill(255, 255, 0)
- fill(0, 255, 255)
- fill(255, 0, 255)
- fill(255, 255, 127)
- fill(127, 255, 255)
- fill(255, 127, 255)
```

---

### Transparencia

Se puede a√±adir un cuarto par√°metro que representa la transparencia (alfa):

```java
    fill(255, 0, 0, 127);
```

#### Ejercicio

Dibuja dos figuras superpuestas y comprueba el efecto de la transparencia.

---

## 4. Programas din√°micos

Vamos a dibujar el alien√≠gena Zoog.

### Versi√≥n est√°tica

```java
    size(800, 800);
    ellipseMode(CENTER);
    rectMode(CENTER);

    stroke(0);
    fill(150);
    rect(100, 100, 20, 100);

    fill(255);
    ellipse(100, 70, 60, 60);

    fill(0);
    ellipse(81, 70, 16, 32);
    ellipse(119, 70, 16, 32);

    stroke(0);
    line(90, 150, 80, 160);
    line(110, 150, 120, 160);
```

---

### Comentarios

Se pueden a√±adir comentarios usando:

```java
    // Comentario de una l√≠nea

    /*
       Comentario de varias l√≠neas
    */
```

---

### Programas din√°micos: setup y draw

```java
    void draw() {
        background(255);

        ellipseMode(CENTER);
        rectMode(CENTER);

        stroke(0);
        fill(150);
        rect(100, 100, 20, 100);

        fill(255);
        ellipse(100, 70, 60, 60);

        fill(0);
        ellipse(81, 70, 16, 32);
        ellipse(119, 70, 16, 32);

        stroke(0);
        line(90, 150, 80, 160);
        line(110, 150, 120, 160);
    }

    void setup() {
        size(800, 800);
    }
```

#### Ejercicios

- Ejecuta el c√≥digo y observa la diferencia respecto a la versi√≥n est√°tica.
- Usa mouseX y mouseY para mover el cuerpo de Zoog.
- ¬øQu√© ocurre si background(255) se coloca en setup?
- Haz que todo Zoog siga al rat√≥n.

---

## 5. Variables, condicionales y bucles

### Variables

    int circleX = 100;
    int circleY = 100;

    void setup() {
        size(200, 200);
    }

    void draw() {
        background(255);
        stroke(0);
        fill(175);
        ellipse(circleX, circleY, 50, 50);
        circleX = circleX + 1;
    }

---

### Condicionales

    if (condicion) {
        // instrucciones
    }

    if (condicion1) {
        // instrucciones
    } else if (condicion2) {
        // instrucciones
    } else {
        // instrucciones
    }

#### Ejercicio

Haz que el color de fondo dependa de la posici√≥n horizontal del rat√≥n:

- Primer tercio del lienzo: blanco
- Segundo tercio: gris
- Tercer tercio: negro

---

### Bucles

```java
    for (int i = 1; i <= n; i++) {
        // instrucciones
    }
```

#### Ejercicios

- Dibuja dos Zoogs en fila separados 100 p√≠xeles.
- A√±ade un tercer Zoog.
- Ejercicio adicional: a√±ade z pares de brazos a cada Zoog.

---

## Ap√©ndice: Instalaci√≥n de Processing {.unnumbered}

![Banner de la p√°gina oficial de *Processing*; a la izquierda se muestra el bot√≥n de *Download*.](../resources/lesson1/web-teaser.png){#fig-installation}

- Accede a [la p√°gina oficial de *Processing*](http://processing.org) y selecciona **Download**.
- Descarga la versi√≥n correspondiente a tu sistema operativo.
- Ejecuta el instalador descargado y sigue las instrucciones.

